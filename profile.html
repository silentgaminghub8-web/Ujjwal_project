<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, maximum-scale=1.0, minimum-scale=1.0">
    <title>User Profile - Silent Gamers</title>
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700&family=Roboto:wght@400;500&family=Orbitron:wght@400;700;900&display=swap" rel="stylesheet">
    
    <style>
        /* CSS Reset and Global Styles */
        :root {
            --color-black: #0a0a0a;
            --color-white: #ffffff;
            --color-silver: #c0c0c0;
            --color-dark-grey: #1a1a1a;
            --color-button-red: #ff4757;
            --color-button-green: #2ed573;
            --color-yellow: #ffd700;
            --header-height: 70px;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; }
        body {
            font-family: 'Roboto', sans-serif;
            background-color: var(--color-black);
            color: var(--color-white);
            padding-top: var(--header-height);
            overflow-x: hidden;
        }

        h1, h2, h3 { font-family: 'Orbitron', sans-serif; }

        @keyframes text-glow {
            from { text-shadow: 0 0 5px var(--color-white), 0 0 10px var(--color-silver), 0 0 15px var(--color-silver); }
            to { text-shadow: 0 0 10px var(--color-white), 0 0 20px var(--color-silver), 0 0 30px var(--color-silver); }
        }
        @keyframes box-glow-pulse {
            0% { box-shadow: 0 0 8px var(--color-silver), inset 0 0 5px rgba(192,192,192,0.3); }
            50% { box-shadow: 0 0 16px var(--color-silver), inset 0 0 10px rgba(192,192,192,0.5); }
            100% { box-shadow: 0 0 8px var(--color-silver), inset 0 0 5px rgba(192,192,192,0.3); }
        }

        /* 1. Header & Nav Styling */
        header { position: fixed; top: 0; left: 0; width: 100%; height: var(--header-height); display: flex; justify-content: space-between; align-items: center; padding: 0 20px; z-index: 1000; background-color: rgba(0, 0, 0, 0.7); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border-bottom: 1px solid rgba(192, 192, 192, 0.2); }
        .header-logo a { display: block; }
        .header-logo img { height: 50px; width: auto; border: 2px solid var(--color-silver); border-radius: 50%; box-shadow: 0 0 5px var(--color-silver), 0 0 10px var(--color-silver), inset 0 0 5px rgba(255, 255, 255, 0.5); transition: transform 0.3s ease; }
        .header-logo img:hover { transform: scale(1.1); }
        .header-title { flex-grow: 1; text-align: center; }
        .header-title h1 { font-family: 'Cinzel', serif; font-size: clamp(1.5rem, 5vw, 2.5rem); color: var(--color-white); animation: text-glow 2s ease-in-out infinite alternate; }
        .menu-trigger { cursor: pointer; width: 30px; height: 22px; display: flex; flex-direction: column; justify-content: space-between; background: none; border: none; }
        .menu-trigger span { display: block; width: 100%; height: 3px; background-color: var(--color-white); border-radius: 3px; filter: drop-shadow(0 0 2px var(--color-silver)); }
        nav { position: fixed; top: 0; right: 0; width: 50%; max-width: 400px; height: 100vh; background-color: rgba(10, 10, 10, 0.9); backdrop-filter: blur(15px); -webkit-backdrop-filter: blur(15px); z-index: 999; transform: translateX(100%); transition: transform 0.4s cubic-bezier(0.23, 1, 0.32, 1); display: flex; align-items: center; justify-content: center; }
        nav.menu-open { transform: translateX(0); }
        nav ul { list-style: none; width: 100%; text-align: center; }
        nav ul li a { display: block; padding: 15px 20px; color: var(--color-white); text-decoration: none; font-size: 1.2rem; text-transform: uppercase; transition: text-shadow 0.3s ease, color 0.3s ease; }
        nav ul li a:hover, nav ul li a:focus { color: var(--color-silver); text-shadow: 0 0 5px rgba(255, 255, 255, 0.7), 0 0 10px rgba(255, 255, 255, 0.5); }

        /* --- LOGIN PAGE STYLES --- */
        .login-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 9999; display: flex; justify-content: center; align-items: center; transition: opacity 0.5s ease; background-image: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), url('https://ik.imagekit.io/silentgamers/a3658f37acc495c009a1262071d293ed.jpg?updatedAt=1760542064504&ik-s=b66cb8c1ca7a673064cd1ac2a7bea47b88944dd3'); background-size: cover; background-position: center; }
        .login-overlay.hidden { opacity: 0; pointer-events: none; }
        .login-container { transition: opacity 0.5s ease-in-out, transform 0.5s ease-in-out; }
        .login-container.disappear { opacity: 0; transform: scale(0.9); }
        .glass-box { width: 90%; max-width: 400px; padding: 40px 30px; color: white; text-align: center; border-radius: 20px; background: rgba(25, 25, 25, 0.25); backdrop-filter: blur(15px); -webkit-backdrop-filter: blur(15px); border: 1px solid rgba(255, 255, 255, 0.18); box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37); }
        .glass-box .logo { max-width: 120px; margin-bottom: 20px; }
        .glass-box h1 { font-family: 'Orbitron', sans-serif; font-weight: 900; font-size: 1.5em; margin-bottom: 30px; text-transform: uppercase; letter-spacing: 1px; text-shadow: 0 0 10px rgba(255, 255, 255, 0.3); }
        .glass-box form { display: flex; flex-direction: column; gap: 20px; }
        .glass-box .input-group { text-align: left; }
        .glass-box .input-group label { display: block; margin-bottom: 8px; font-size: 0.9em; color: rgba(255, 255, 255, 0.8); }
        .glass-box .input-group input { width: 100%; padding: 12px 15px; border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 8px; background-color: rgba(255, 255, 255, 0.1); color: white; font-size: 1em; outline: none; transition: border-color 0.3s, box-shadow 0.3s; }
        .glass-box .input-group input::placeholder { color: rgba(255, 255, 255, 0.5); }
        .glass-box .input-group input:focus { border-color: rgba(255, 255, 255, 0.7); box-shadow: 0 0 15px rgba(255, 255, 255, 0.2); }
        .glass-box .options { display: flex; justify-content: flex-start; align-items: center; font-size: 0.9em; }
        .glass-box .login-btn { padding: 15px; border: none; border-radius: 8px; background-color: #ffffff; color: #000000; font-size: 1.1em; font-weight: 600; cursor: pointer; transition: background-color 0.3s, transform 0.2s; }
        .glass-box .login-btn:hover { background-color: #cccccc; transform: translateY(-2px); }
        .glass-box .create-account-btn { background: none; border: none; color: rgba(255, 255, 255, 0.8); cursor: pointer; font-size: 0.9em; text-decoration: none; transition: color 0.3s; padding: 0; margin-top: 5px; }
        .glass-box .create-account-btn:hover { color: #ffffff; text-decoration: underline; }
        #login-error { color: var(--color-button-red); margin-top: 15px; min-height: 20px; font-weight: bold; }
        .remember-me { display: flex; align-items: center; cursor: pointer; position: relative; }
        .remember-me label { padding-left: 28px; }
        .remember-me input[type="checkbox"] { position: absolute; opacity: 0; cursor: pointer; height: 0; width: 0; }
        .remember-me .checkmark { position: absolute; top: 0; left: 0; height: 20px; width: 20px; background-color: transparent; border: 2px solid var(--color-silver); border-radius: 4px; transition: all 0.2s ease-in-out; }
        .remember-me input:checked ~ .checkmark { background-color: var(--color-silver); border-color: var(--color-yellow); }
        .remember-me .checkmark:after { content: ""; position: absolute; display: none; }
        .remember-me input:checked ~ .checkmark:after { display: block; }
        .remember-me .checkmark:after { left: 5px; top: 1px; width: 6px; height: 12px; border: solid var(--color-yellow); border-width: 0 3px 3px 0; transform: rotate(45deg); }
        .loading-screen-container { position: absolute; top: 0; left: 0; width: 100%; height: 100%; display: flex; justify-content: center; align-items: center; z-index: 1000; }
        .loading-screen-container.hidden { display: none; }
        .loader-box { background: rgba(0,0,0,0.5); padding: 20px 40px; border-radius: 15px; backdrop-filter: blur(5px); }
        .loader { --main-size: 4em; --text-color: #ffffff; --shine-color: #ffffff40; --shadow-color: #aaaaaa; display: flex; justify-content: center; align-items: center; overflow: hidden; user-select: none; position: relative; font-size: var(--main-size); font-weight: 900; text-transform: uppercase; color: var(--text-color); width: 7.3em; height: 1em; filter: drop-shadow(0 0 0.05em var(--shine-color)); }
        .loader .text { display: flex; align-items: center; justify-content: center; text-align: center; white-space: nowrap; overflow: hidden; position: absolute; }
        .loader .text:nth-child(1) { clip-path: polygon(0% 0%, 11.11% 0%, 11.11% 100%, 0% 100%); font-size: calc(var(--main-size) / 20); margin-left: -2.1em; opacity: 0.6; } .loader .text:nth-child(2) { clip-path: polygon(11.11% 0%, 22.22% 0%, 22.22% 100%, 11.11% 100%); font-size: calc(var(--main-size) / 16); margin-left: -0.98em; opacity: 0.7; } .loader .text:nth-child(3) { clip-path: polygon(22.22% 0%, 33.33% 0%, 33.33% 100%, 22.22% 100%); font-size: calc(var(--main-size) / 13); margin-left: -0.33em; opacity: 0.8; } .loader .text:nth-child(4) { clip-path: polygon(33.33% 0%, 44.44% 0%, 44.44% 100%, 33.33% 100%); font-size: calc(var(--main-size) / 11); margin-left: -0.05em; opacity: 0.9; } .loader .text:nth-child(5) { clip-path: polygon(44.44% 0%, 55.55% 0%, 55.55% 100%, 44.44% 100%); font-size: calc(var(--main-size) / 10); margin-left: 0em; opacity: 1; } .loader .text:nth-child(6) { clip-path: polygon(55.55% 0%, 66.66% 0%, 66.66% 100%, 55.55% 100%); font-size: calc(var(--main-size) / 11); margin-left: 0.05em; opacity: 0.9; } .loader .text:nth-child(7) { clip-path: polygon(66.66% 0%, 77.77% 0%, 77.77% 100%, 66.66% 100%); font-size: calc(var(--main-size) / 13); margin-left: 0.33em; opacity: 0.8; } .loader .text:nth-child(8) { clip-path: polygon(77.77% 0%, 88.88% 0%, 88.88% 100%, 77.77% 100%); font-size: calc(var(--main-size) / 16); margin-left: 0.98em; opacity: 0.7; } .loader .text:nth-child(9) { clip-path: polygon(88.88% 0%, 100% 0%, 100% 100%, 88.88% 100%); font-size: calc(var(--main-size) / 20); margin-left: 2.1em; opacity: 0.6; }
        .loader .text span { animation: scrolling 2s cubic-bezier(0.1, 0.6, 0.9, 0.4) infinite, shadow 2s cubic-bezier(0.1, 0.6, 0.9, 0.4) infinite; }
        .loader .text:nth-child(1) span { background: linear-gradient( to right, var(--text-color) 4%, var(--shadow-color) 7% ); background-size: 200% auto; background-clip: text; color: transparent; } .loader .text:nth-child(2) span { background: linear-gradient( to right, var(--text-color) 9%, var(--shadow-color) 13% ); background-size: 200% auto; background-clip: text; color: transparent; } .loader .text:nth-child(3) span { background: linear-gradient( to right, var(--text-color) 15%, var(--shadow-color) 18% ); background-size: 200% auto; background-clip: text; color: transparent; } .loader .text:nth-child(4) span { background: linear-gradient( to right, var(--text-color) 20%, var(--shadow-color) 23% ); background-size: 200% auto; background-clip: text; color: transparent; } .loader .text:nth-child(6) span { background: linear-gradient( to right, var(--shadow-color) 29%, var(--text-color) 32% ); background-size: 200% auto; background-clip: text; color: transparent; } .loader .text:nth-child(7) span { background: linear-gradient( to right, var(--shadow-color) 34%, var(--text-color) 37% ); background-size: 200% auto; background-clip: text; color: transparent; } .loader .text:nth-child(8) span { background: linear-gradient( to right, var(--shadow-color) 39%, var(--text-color) 42% ); background-size: 200% auto; background-clip: text; color: transparent; } .loader .text:nth-child(9) span { background: linear-gradient( to right, var(--shadow-color) 45%, var(--text-color) 48% ); background-size: 200% auto; background-clip: text; color: transparent; }
        .loader .line { position: relative; display: flex; align-items: center; justify-content: center; overflow: hidden; height: 0.05em; width: calc(var(--main-size) / 2); margin-top: 0.9em; border-radius: 0.05em; }
        .loader .line::before { content: ""; position: absolute; height: 100%; width: 100%; background-color: var(--text-color); opacity: 0.3; }
        .loader .line::after { content: ""; position: absolute; height: 100%; width: 100%; background-color: var(--text-color); border-radius: 0.05em; transform: translateX(-90%); animation: wobble 2s cubic-bezier(0.5, 0.8, 0.5, 0.2) infinite; }
        @keyframes wobble { 0% { transform: translateX(-90%); } 50% { transform: translateX(90%); } 100% { transform: translateX(-90%); } } @keyframes scrolling { 0% { transform: translateX(-100%); } 100% { transform: translateX(100%); } } @keyframes shadow { 0% { background-position: -98% 0; } 100% { background-position: 102% 0; } }

        /* 3. Main Content Area (PROFILE LAYOUT) */
        main { padding: 40px 20px; min-height: calc(100vh - var(--header-height) - 100px); }
        .main-content { max-width: 800px; margin: 0 auto; text-align: center; display: none; }
        .main-content.visible { display: block; }
        .profile-pic { width: 150px; height: 150px; border-radius: 50%; object-fit: cover; border: 3px solid var(--color-silver); margin-bottom: 20px; box-shadow: 0 0 15px var(--color-silver); }
        .welcome-message h2 { font-size: 2rem; margin-bottom: 30px; color: var(--color-white); text-shadow: 0 0 8px var(--color-silver); }
        .welcome-message h2 span { color: var(--color-yellow); }
        .icon-bar { display: flex; justify-content: center; gap: 20px; margin-bottom: 40px; padding: 15px 0; border-top: 1px solid rgba(192,192,192,0.2); border-bottom: 1px solid rgba(192,192,192,0.2); }
        .icon-bar a { color: var(--color-white); text-decoration: none; display: flex; flex-direction: column; align-items: center; gap: 8px; font-size: 1rem; padding: 10px 20px; border-radius: 8px; transition: all 0.3s ease; }
        .icon-bar a i { font-size: 2.5rem; filter: drop-shadow(0 0 5px var(--color-silver)); transition: all 0.3s ease; }
        .icon-bar a:hover { background-color: rgba(255, 255, 255, 0.1); text-shadow: 0 0 10px var(--color-white); }
        .icon-bar a:hover i { transform: scale(1.1); color: var(--color-yellow); filter: drop-shadow(0 0 10px var(--color-yellow)); }
        .token-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 20px; margin-bottom: 40px; }
        .token-box { background: var(--color-dark-grey); border: 1px solid var(--color-silver); border-radius: 10px; padding: 20px; text-decoration: none; color: var(--color-white); display: flex; flex-direction: column; align-items: center; justify-content: center; animation: box-glow-pulse 4s infinite ease-in-out; transition: transform 0.3s; }
        .token-box:hover { transform: translateY(-5px); animation-play-state: paused; box-shadow: 0 0 20px var(--color-yellow), inset 0 0 10px rgba(255, 215, 0, 0.4); }
        .token-box h3 { font-size: 1.5rem; margin-bottom: 10px; color: var(--color-silver); }
        .token-box .balance { font-size: 2rem; font-weight: bold; color: var(--color-white); text-shadow: 0 0 8px var(--color-white); }
        .user-info-grid { text-align: left; background: var(--color-dark-grey); border-radius: 10px; padding: 25px; margin-bottom: 40px; border: 1px solid rgba(192,192,192,0.2); }
        .info-pair { display: flex; justify-content: space-between; padding: 12px 0; border-bottom: 1px solid #333; }
        .info-pair:last-child { border-bottom: none; }
        .info-pair .label { color: #aaa; font-weight: bold; }
        .info-pair .value { color: var(--color-white); font-size: 1.1rem; }
        
        /* Conversion Section Styles (ADDED BACK) */
        .conversion-section { margin-bottom: 40px; }
        .conversion-section h2 { font-size: 2.5rem; margin-bottom: 30px; animation: text-glow 3s ease-in-out infinite alternate; }
        .conversion-box { background: var(--color-dark-grey); border: 1px solid var(--color-silver); border-radius: 10px; padding: 25px; margin-bottom: 25px; }
        .conversion-box h3 { margin-bottom: 15px; font-size: 1.5rem; }
        .conversion-box .note { font-size: 0.9rem; color: #aaa; margin-bottom: 20px; }
        .main-content .input-group { display: flex; gap: 10px; margin-bottom: 15px; align-items: center; }
        .main-content .input-group input { flex-grow: 1; padding: 12px; border-radius: 5px; border: 1px solid var(--color-silver); background: #333; color: white; font-family: inherit; font-size: 1rem; }
        .main-content .input-group input:focus { outline: none; border-color: var(--color-yellow); box-shadow: 0 0 10px var(--color-yellow); }
        .btn-convert, .btn-withdraw { padding: 12px 25px; background: var(--color-yellow); color: var(--color-black); border: none; border-radius: 5px; cursor: pointer; font-weight: bold; font-size: 1.1rem; transition: transform 0.2s; font-family: 'Orbitron', sans-serif; }
        .btn-convert:hover, .btn-withdraw:hover { transform: scale(1.05); }
        .btn-convert:disabled, .btn-withdraw:disabled { background: #555; cursor: not-allowed; transform: none; }
        
        /* Crack Animation */
        .preloader-container { width: 100%; height: 150px; position: relative; margin-bottom: 30px; }
        .preloader { position: relative; width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; filter: drop-shadow(0 0 2px #fff); }
        .crack { position: absolute; width: 10%; aspect-ratio: 1; background-color: #fef3fc; clip-path: polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%); animation: rotate 6s infinite; }
        .crack2 { width: 12%; animation-delay: 1s; } .crack3 { width: 14%; animation-delay: 1.5s; } .crack4 { width: 16%; animation-delay: 2s; } .crack5 { width: 18%; animation-delay: 2.5s; }
        @keyframes rotate { to { rotate: 360deg; } }
        
        .logout-btn { display: inline-block; margin-bottom: 40px; padding: 12px 40px; font-size: 1.1rem; background: var(--color-button-red); color: white; border: none; border-radius: 50px; cursor: pointer; }
        .full-width-gif { width: 100%; display: block; }
        
        /* Modal, Footer, FAB, Spinner */
        .loading-spinner { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); z-index: 10001; display: none; justify-content: center; align-items: center; }
        .loading-spinner i { font-size: 4rem; color: var(--color-silver); animation: fa-spin 2s linear infinite; }
        .modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 10002; display: none; justify-content: center; align-items: center; }
        .modal-overlay.active { display: flex; }
        .modal-content { background: var(--color-dark-grey); padding: 30px; border-radius: 10px; border: 2px solid var(--color-silver); width: 90%; max-width: 500px; position: relative; text-align: center; }
        .modal-close { position: absolute; top: 10px; right: 15px; background: none; border: none; color: white; font-size: 2rem; cursor: pointer; }
        footer { padding: 20px; text-align: center; border-top: 1px solid rgba(192, 192, 192, 0.2); }
        .social-links a { color: var(--color-white); font-size: 2rem; margin: 0 15px; display: inline-block; transition: color 0.3s ease, filter 0.3s ease; }
        .social-links a i { filter: drop-shadow(0 0 3px var(--color-silver)); }
        .social-links a:hover { color: var(--color-silver); filter: drop-shadow(0 0 8px var(--color-silver)); }
        .fab-container { position: fixed; bottom: 20px; right: 20px; z-index: 900; }
        .fab-main { width: 60px; height: 60px; background-color: var(--color-dark-grey); border: 1px solid var(--color-silver); border-radius: 50%; display: flex; justify-content: center; align-items: center; cursor: pointer; box-shadow: 0 4px 15px rgba(0,0,0,0.4); }
        .fab-main i { font-size: 1.8rem; color: var(--color-white); filter: drop-shadow(0 0 2px var(--color-silver)); }
        .fab-options { position: absolute; bottom: 70px; right: 5px; display: flex; flex-direction: column; gap: 10px; visibility: hidden; opacity: 0; transform: translateY(10px); transition: all 0.3s; }
        .fab-container.active .fab-options { visibility: visible; opacity: 1; transform: translateY(0); }
        .fab-option { display: flex; align-items: center; background-color: var(--color-dark-grey); border: 1px solid var(--color-silver); color: var(--color-white); padding: 8px 15px; border-radius: 20px; text-decoration: none; white-space: nowrap; box-shadow: 0 2px 10px rgba(0,0,0,0.3); }
        .fab-option i { margin-right: 10px; }

    </style>
</head>
<body>

    <!-- Login Overlay -->
    <div id="login-overlay" class="login-overlay">
        <div class="login-container" id="loginContainer">
            <div class="glass-box">
                <img src="https://ik.imagekit.io/silentgamers/Picsart_25-09-19_15-42-42-048.png?updatedAt=1758287984590&ik-s=818768f764ed7e928bf055f4f632c881cb77ec24" alt="Logo" class="logo">
                <h1>SILENT GAMER'S PROFILE</h1>
                <form id="login-form">
                    <div class="glass-box-input-group"><label for="mobile">Mobile Number</label><input type="tel" id="mobile" placeholder="Enter mobile" required></div>
                    <div class="glass-box-input-group"><label for="password">Password</label><input type="password" id="password" placeholder="Enter password" required></div>
                    <div class="options"><label class="remember-me"><input type="checkbox" id="remind-me"><span class="checkmark"></span>Remember Me</label></div>
                    <button type="submit" class="login-btn">Log In</button>
                    <a href="signup.html" class="create-account-btn">Create new account</a>
                </form>
                <p id="login-error"></p>
            </div>
        </div>
        <div class="loading-screen-container hidden" id="loadingScreen">
            <div class="loader-box">
                <div class="loader">
                    <div class="text"><span>Loading</span></div><div class="text"><span>Loading</span></div><div class="text"><span>Loading</span></div><div class="text"><span>Loading</span></div><div class="text"><span>Loading</span></div><div class="text"><span>Loading</span></div><div class="text"><span>Loading</span></div><div class="text"><span>Loading</span></div><div class="text"><span>Loading</span></div><div class="line"></div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Spinner & Modal for main page actions -->
    <div id="loading-spinner" class="loading-spinner"><i class="fas fa-spinner fa-spin"></i></div>
    <div class="modal-overlay" id="feedback-modal">
        <div class="modal-content"><button class="modal-close" id="modal-close-btn">&times;</button><h3 id="modal-title"></h3><p id="modal-message"></p></div>
    </div>

    <!-- Header & Nav -->
    <header id="header">
        <div class="header-logo"><a href="index.html"><img src="https://ik.imagekit.io/silentgamers/Picsart_25-09-19_15-42-42-048.png?updatedAt=1758287984590&ik-s=818768f764ed7e928bf055f4f632c881cb77ec24" alt="Logo"></a></div>
        <div class="header-title"><h1>SILENT GAMERS</h1></div>
        <button class="menu-trigger" id="menu-trigger" aria-label="Open menu"><span></span><span></span><span></span></button>
    </header>
    <nav id="nav-menu">
        <ul>
            <li><a href="home.html">home</a></li><li><a href="profile.html">profile</a></li><li><a href="shop.html">shop</a></li><li><a href="signup.html">create account</a></li>
            <li><a href="ceo.html">ceo</a></li><li><a href="coo.html">coo</a></li><li><a href="boo.html">anti-hacker</a></li><li><a href="roshi.html">management</a></li>
            <li><a href="esport.html">e-sport</a></li><li><a href="tutorial.html">Tutorial ?</a></li>
        </ul>
    </nav>

    <!-- Main Content Area -->
    <main id="main-container">
        <div class="main-content" id="main-content">
            <img src="https://ik.imagekit.io/silentgamers/6d37cee8dd5105cda3fb25fa287c1819.jpg?updatedAt=1760167768059&ik-s=47f862d8c94abb4a628fcb722d38992f87cd6c88" alt="Profile Picture" class="profile-pic">
            <div class="welcome-message"><h2>Hello <span id="welcome-username">Username</span>, enjoy and play without hack.</h2></div>
            <div class="icon-bar">
                <a href="shop.html"><i class="fas fa-shopping-cart"></i><span>Shop</span></a>
                <a href="home.html"><i class="fas fa-home"></i><span>Home</span></a>
            </div>
            <div class="token-grid">
                <a href="shop.html" class="token-box"><h3>Red Token</h3><p class="balance" id="red-token-balance">0</p></a>
                <a href="withdraw.html" class="token-box"><h3>Blue Token</h3><p class="balance" id="blue-token-balance">0</p></a>
                <a href="shop.html" class="token-box"><h3>Power Coin</h3><p class="balance" id="power-coin-balance">0</p></a>
            </div>
            <div class="user-info-grid">
                <div class="info-pair"><span class="label">Username</span><span class="value" id="user-username"></span></div>
                <div class="info-pair"><span class="label">Mobile</span><span class="value" id="user-mobile"></span></div>
                <div class="info-pair"><span class="label">Game Name</span><span class="value" id="user-gamename"></span></div>
                <div class="info-pair"><span class="label">Game UID</span><span class="value" id="user-gameuid"></span></div>
                <div class="info-pair"><span class="label">Email</span><span class="value" id="user-email"></span></div>
                <div class="info-pair"><span class="label">UPI ID</span><span class="value" id="user-upi"></span></div>
            </div>

            <!-- Conversion System (ADDED BACK) -->
            <div class="conversion-section">
                <h2>Convert Tokens</h2>
                <div class="conversion-box"><h3>Blue to Red Token</h3><div class="input-group"><input type="number" id="b2r-amount" placeholder="Amount of Blue Tokens" min="1"><button class="btn-convert" id="b2r-btn">Convert</button></div></div>
                <div class="conversion-box"><h3>Red to Power Coin</h3><div class="input-group"><input type="number" id="r2p-amount" placeholder="Amount of Red Tokens" min="1"><button class="btn-convert" id="r2p-btn">Convert</button></div></div>
                <div class="conversion-box"><h3>Withdraw Blue Token</h3><p class="note">Minimum withdrawal is 50 Blue Tokens.</p><div class="input-group"><input type="number" id="withdraw-amount" placeholder="Amount to Withdraw" min="50"></div><div class="input-group"><input type="text" id="withdraw-upi" placeholder="Your UPI ID"></div><button class="btn-withdraw" id="withdraw-btn">Withdraw</button></div>
            </div>

            <div class="preloader-container">
                <div class="preloader">
                    <div class="crack crack1"></div><div class="crack crack2"></div><div class="crack crack3"></div><div class="crack crack4"></div><div class="crack crack5"></div>
                </div>
            </div>
            <button class="logout-btn" id="logout-btn">Log Out</button>
            <img src="https://ik.imagekit.io/silentgamers/giphy.gif?updatedAt=1760165533861&ik-s=77653c4e5a83167cdd43926cf176edfcac3114a8" alt="Gaming GIF" class="full-width-gif">
        </div>
    </main>

    <!-- Footer & Widgets -->
    <footer>
        <div class="social-links"><a href="https://www.instagram.com/silent.gamers?igsh=MWN6bGdsdzhyb3Nicw==" target="_blank" rel="noopener noreferrer" aria-label="Instagram"><i class="fa-brands fa-instagram"></i></a><a href="https://www.youtube.com/@SilentGaminghub1" target="_blank" rel="noopener noreferrer" aria-label="YouTube"><i class="fa-brands fa-youtube"></i></a></div>
    </footer>
    <div class="fab-container" id="fab-container">
        <div class="fab-main" id="fab-main" role="button" aria-label="Support"><i class="fas fa-headset"></i></div>
        <div class="fab-options"><a href="tel:7078343501" class="fab-option"><i class="fas fa-phone-alt"></i><span>Call</span></a><a href="https://wa.me/7037843807?text=hello" target="_blank" rel="noopener noreferrer" class="fab-option"><i class="fa-brands fa-whatsapp"></i><span>Chat</span></a></div>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        // --- CONFIG & STATE ---
        const WEB_APP_URL = 'https://script.google.com/macros/s/AKfycbxQk3Sq1WsCoy8Xs3Og1q_JbdJ5t-Q7xrjRfR58fn_T75NdqQMxfDuMPRxsW8wq9lU9Tg/exec';
        let userData = null;

        // --- DOM ELEMENTS ---
        const mainContainer = document.getElementById('main-container');
        const header = document.getElementById('header'); const menuTrigger = document.getElementById('menu-trigger');
        const navMenu = document.getElementById('nav-menu'); const fabContainer = document.getElementById('fab-container');
        const loginOverlay = document.getElementById('login-overlay'); const loginForm = document.getElementById('login-form');
        const mobileInput = document.getElementById('mobile'); const passwordInput = document.getElementById('password');
        const remindMeCheckbox = document.getElementById('remind-me'); const loginError = document.getElementById('login-error');
        const mainContent = document.getElementById('main-content'); const logoutBtn = document.getElementById('logout-btn');
        const loadingSpinner = document.getElementById('loading-spinner'); const feedbackModal = document.getElementById('feedback-modal');
        const modalTitle = document.getElementById('modal-title'); const modalMessage = document.getElementById('modal-message');
        const modalCloseBtn = document.getElementById('modal-close-btn'); const loginContainer = document.getElementById('loginContainer');
        const loadingScreen = document.getElementById('loadingScreen');
        // Conversion elements
        const b2rBtn = document.getElementById('b2r-btn'); const r2pBtn = document.getElementById('r2p-btn');
        const withdrawBtn = document.getElementById('withdraw-btn'); const b2rAmountInput = document.getElementById('b2r-amount');
        const r2pAmountInput = document.getElementById('r2p-amount'); const withdrawAmountInput = document.getElementById('withdraw-amount');
        const withdrawUpiInput = document.getElementById('withdraw-upi');
        
        // --- TEMPLATE UI LOGIC ---
        const adjustMainContentPadding = () => { mainContainer.style.paddingTop = `${header.offsetHeight}px`; };
        adjustMainContentPadding(); window.addEventListener('resize', adjustMainContentPadding);
        menuTrigger.addEventListener('click', () => { navMenu.classList.toggle('menu-open'); });
        fabContainer.addEventListener('click', (event) => { if (event.target.closest('#fab-main')) fabContainer.classList.toggle('active'); });
        document.addEventListener('click', (event) => { if (!fabContainer.contains(event.target)) fabContainer.classList.remove('active'); });

        // --- UTILITY FUNCTIONS ---
        const showLoader = () => loadingSpinner.style.display = 'flex';
        const hideLoader = () => loadingSpinner.style.display = 'none';
        const showModal = (title, message) => { modalTitle.textContent = title; modalMessage.innerHTML = message; feedbackModal.classList.add('active'); };
        const hideModal = () => feedbackModal.classList.remove('active');
        modalCloseBtn.addEventListener('click', hideModal);
        feedbackModal.addEventListener('click', (e) => { if (e.target === feedbackModal) hideModal(); });

        async function callAppsScript(functionName, args = []) {
            if (functionName !== 'loginUser') showLoader();
            try {
                const response = await fetch(WEB_APP_URL, { method: 'POST', redirect: 'follow', headers: { 'Content-Type': 'text/plain;charset=utf-8' }, body: JSON.stringify({ functionName, args }), });
                if (!response.ok) throw new Error(`Network error`);
                const result = await response.json();
                if (result.status === 'error') throw new Error(result.message);
                return result.data;
            } catch (error) {
                if (functionName !== 'loginUser') { showModal('Error', error.message || 'An unexpected error occurred.'); }
                throw error;
            } finally {
                if (functionName !== 'loginUser') hideLoader();
            }
        }

        // --- LOGIN LOGIC ---
        async function handleLogin(e) {
            e.preventDefault();
            const mobile = mobileInput.value; const password = passwordInput.value;
            loginError.textContent = '';
            loginContainer.classList.add('disappear');
            setTimeout(() => { loadingScreen.classList.remove('hidden'); }, 300);
            try {
                const data = await callAppsScript('loginUser', [mobile, password]);
                if (data && data.Username) onLoginSuccess(data, password);
                else throw new Error("Invalid mobile/password.");
            } catch (error) { onLoginFailure(error); }
        }
        function onLoginSuccess(data, password) {
            userData = data;
            if (remindMeCheckbox.checked) {
                localStorage.setItem('savedMobile', data['Mobile Number']);
                localStorage.setItem('savedPassword', password);
            } else {
                localStorage.removeItem('savedMobile');
                localStorage.removeItem('savedPassword');
            }
            setTimeout(() => {
                populateUI(userData);
                loginOverlay.classList.add('hidden');
                mainContent.classList.add('visible');
                loadingScreen.classList.add('hidden');
                loginContainer.classList.remove('disappear');
            }, 500);
        }
        function onLoginFailure(error) {
            setTimeout(() => {
                loadingScreen.classList.add('hidden');
                loginContainer.classList.remove('disappear');
                loginError.textContent = error.message;
            }, 500);
        }

        // --- PROFILE PAGE UI & ACTIONS ---
        function populateUI(data) {
            if (!data) return;
            document.getElementById('welcome-username').textContent = data.Username || 'User';
            document.getElementById('red-token-balance').textContent = data['Red Token'] || 0;
            document.getElementById('blue-token-balance').textContent = data['Blue Token'] || 0;
            document.getElementById('power-coin-balance').textContent = data['Power Coin'] || 0;
            document.getElementById('user-username').textContent = data.Username || 'N/A';
            document.getElementById('user-mobile').textContent = data['Mobile Number'] || 'N/A';
            document.getElementById('user-gamename').textContent = data['Game Name'] || 'N/A';
            document.getElementById('user-gameuid').textContent = data['Game UID'] || 'N/A';
            document.getElementById('user-email').textContent = data.Email || 'N/A';
            document.getElementById('user-upi').textContent = data['UPI id'] || 'Not set';
            withdrawUpiInput.value = data['UPI id'] || ''; // Populate UPI field in conversion section
        }

        async function refreshUserData() {
            if (!userData || !userData['Mobile Number']) return;
            try {
                const updatedData = await callAppsScript('getUserData', [userData['Mobile Number']]);
                userData = updatedData;
                populateUI(userData);
            } catch (error) { console.error("Failed to refresh user data."); }
        }
        
        b2rBtn.addEventListener('click', async () => {
            const amount = parseInt(b2rAmountInput.value, 10);
            if (isNaN(amount) || amount <= 0) { showModal('Invalid Input', 'Please enter a valid positive number.'); return; }
            if (amount > (userData['Blue Token'] || 0)) { showModal('Insufficient Funds', 'You do not have enough Blue Tokens.'); return; }
            try {
                const result = await callAppsScript('convertBlueToRed', [userData['Mobile Number'], amount]);
                showModal('Success', result.message); b2rAmountInput.value = ''; await refreshUserData();
            } catch (error) {}
        });

        r2pBtn.addEventListener('click', async () => {
            const amount = parseInt(r2pAmountInput.value, 10);
            if (isNaN(amount) || amount <= 0) { showModal('Invalid Input', 'Please enter a valid positive number.'); return; }
            if (amount > (userData['Red Token'] || 0)) { showModal('Insufficient Funds', 'You do not have enough Red Tokens.'); return; }
            try {
                const result = await callAppsScript('convertRedToPower', [userData['Mobile Number'], amount]);
                showModal('Success', result.message); r2pAmountInput.value = ''; await refreshUserData();
            } catch (error) {}
        });

        withdrawBtn.addEventListener('click', async () => {
            const amount = parseInt(withdrawAmountInput.value, 10); const upiId = withdrawUpiInput.value.trim();
            if (isNaN(amount) || amount < 50) { showModal('Invalid Amount', 'Minimum withdrawal is 50.'); return; }
            if (!upiId) { showModal('UPI ID Required', 'Please enter your UPI ID.'); return; }
            if (amount > (userData['Blue Token'] || 0)) { showModal('Insufficient Funds', 'You do not have enough Blue Tokens.'); return; }
            try {
                const result = await callAppsScript('withdrawBlueTokens', [userData['Mobile Number'], amount, upiId]);
                showModal('Success', result.message); withdrawAmountInput.value = ''; await refreshUserData();
            } catch (error) {}
        });
        
        function handleLogout() {
            userData = null; localStorage.clear();
            mainContent.classList.remove('visible');
            loginOverlay.classList.remove('hidden');
            loginForm.reset();
            loadingScreen.classList.add('hidden');
            loginContainer.classList.remove('disappear');
        }

        // --- INITIALIZATION ---
        loginForm.addEventListener('submit', handleLogin);
        logoutBtn.addEventListener('click', handleLogout);
        
        const savedMobile = localStorage.getItem('savedMobile');
        const savedPassword = localStorage.getItem('savedPassword');
        if (savedMobile && savedPassword) {
            mobileInput.value = savedMobile; passwordInput.value = savedPassword;
            remindMeCheckbox.checked = true;
            loginError.textContent = 'Attempting auto-login...';
            handleLogin(new Event('submit'));
        }
    });
    </script>
</body>
</html>
